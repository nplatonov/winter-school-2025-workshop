---
output:
   xaringan::moon_reader:
      toc_depth: 5
output2:
   html_vignette:
      toc_depth: 2
pagetitle: "`r plutil::format_time(format='–ó–®–ü–£ (%H:%M)')`"
echo: false
title1: –ì–ò–° –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞–±–ª—é–¥–µ–Ω–∏–π
title: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≥–µ–æ–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —É—á—ë—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
meeting2: –¢—Ä–µ–∫ ¬´–ú–æ—Ä—Å–∫–æ–µ –±–∏–æ—Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ¬ª<br>–ó–∏–º–Ω–µ–π —à–∫–æ–ª—ã –ü–ª–∞–≤—É—á–µ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ 2025
meeting: –ó–∏–º–Ω—è—è —à–∫–æ–ª–∞ –ü–ª–∞–≤—É—á–µ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ 2025
subtitle2: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ì–ò–° –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç—Ä–µ–∫–æ–≤, –ª—å–¥–æ–≤, –∞–≤–∏–∞—É—á–µ—Ç–æ–≤ –∏ –ø—Ä. –¥–∞–Ω–Ω—ã—Ö
subtitle: –¢—Ä–µ–∫ ¬´–ú–æ—Ä—Å–∫–æ–µ –±–∏–æ—Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ¬ª
author:
 - name: –ù–∏–∫–∏—Ç–∞ –ü–ª–∞—Ç–æ–Ω–æ–≤
   affiliation: —Å.–Ω.—Å. –ò–ü–≠–≠ –†–ê–ù
ratio2: 29:18
date: 2025-02-05
location: –ò–ü–≠–≠ –†–ê–ù, –ú–æ—Å–∫–≤–∞
toc: true
toc_depth: 3
shorttitle: "[–ì–ò–° –æ–±—Ä–∞–±–æ—Ç–∫–∞](#home)"
css: assets/cameral.css
---

:::{.logo .remarkonly}
.invertable[![pu](assets/pu-ocean.png){height}]
![sevin](assets/sevin-logo.jpg){height}
:::

---

```{r, results='asis', eval=T & ursa:::.isRemark()}
cat("class: notable\n\n")
knitr::include_url("https://docs.google.com/document/d/1lcVnWwFZvUbjhWwU5UlUGe38h6quaaao2P38b-UEnvo/view?tab=t.0",height="670px")
```

:::notremark
 # –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫—É–º–∞

–≠–∫—Å–ø–µ–¥–∏—Ü–∏—è –ê—Ä–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–ª–∞–≤—É—á–µ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞ —Ä–µ–π—Å–∞ 2023-2 [@winterschool2025].
–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω—ã –≤ –ø–∞–ø–∫—É `input` —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
:::



```{r}
input <- "./input"
output <- "./output"
assets <- "assets" ## do not use './assets' or '../assets' for www/share mode
resources <- "./resources"
staff <- digest::digest(getOption("sevinExpedition"),"crc32")=="bd8035bd"
isShow <- ursa:::.isRemark()
simple <- !staff | (T & !isShow) ## '|' - devel, "&" - finalize
if (!dir.exists(output))
   dir.create(output)
```

```{r code=readLines("resources/attrtable_.R"), eval=TRUE}
```


# –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

## Tips & tricks

::::font86
:::pulling
:::pull-left-55

 #### –ò–Ω—Ç–µ—Ä–Ω–µ—Ç

–†–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å –Ω–∞ –Ω–µ–≥–æ –Ω–µ —Å—Ç–æ–∏—Ç

+ –í—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ —Å–∫–∞—á–∞—Ç—å –¥–æ —Ä–µ–π—Å–∞

+ –û—Ç–∫–ª—é—á–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ `r fontawesome::fa("computer")` –∏ `r fontawesome::fa("mobile-screen")`.

+  `r fontawesome::fa("square-whatsapp")` –Ω–∞–¥–µ–∂–Ω–µ–µ `r fontawesome::fa("telegram")` –ø—Ä–∏ –º–∞–ª–æ–π –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏



 #### –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å
 
+ –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Å –º–æ–º–µ–Ω—Ç–∞ –Ω–∞—á–∞–ª–∞ –¥–æ –º–æ–º–µ–Ω—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–µ–π—Å–∞ –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –Ω–∞ –≤–∞—Ö—Ç–µ

   + UTC, –µ—Å–ª–∏ —Å—É–¥–æ–≤–æ–µ –≤—Ä–µ–º—è –º–µ–Ω—è–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ —Ä–µ–π—Å–∞

   <!-- + –ª—é–±–æ–π, –Ω–æ –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–π -->

   + —Å—É–¥–æ–≤–æ–µ –≤—Ä–µ–º—è, –µ—Å–ª–∏ –æ–Ω–æ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è.


 #### GPS

+ –ó–∞–ø–∏—Å—å —Ç—Ä–µ–∫–∞ —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–∏–±–æ—Ä–∞–º–∏ (–ø–æ—Ç–µ—Ä—è —Å–∏–≥–Ω–∞–ª–∞, —Ä–∞–∑—Ä—è–¥ –±–∞—Ç–∞—Ä–µ–π)

+ –ó–∞–¥–∞—Ç—å —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å


:::
:::pull-right-45

 #### –§–æ—Ç–æ–∞–ø–ø–∞—Ä–∞—Ç

+ EXIF –Ω—É–∂–µ–Ω

+ –í—Ä–µ–º—è –∏ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –ø–æ GPS


 #### –°–º–∞—Ä—Ç—Ñ–æ–Ω, —á–∞—Å—ã
 
+ ü§∑ –£–¥–æ–±–Ω–µ–µ —Å—É–¥–æ–≤–æ–µ –≤—Ä–µ–º—è


 #### –î–∏–∫—Ç–æ—Ñ–æ–Ω
 
+ –í—Ä–µ–º—è –∏ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –ø–æ GPS


 #### –£—á—ë—Ç–Ω—ã–π –ª–∏—Å—Ç

+ –ö–∞—Ä–∞–Ω–¥–∞—à

+ –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤–∞—Ö—Ç—ã

+ .clarify[
   –®–∏—Ä–∏–Ω–∞ —É—á—ë—Ç–Ω–æ–π –ø–æ–ª–æ—Å—ã (–ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏)
<!--
   + –í—Å–µ –∂–∏–≤–æ—Ç–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã
   
   + –ü–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏
-->
   ]


:::
:::
::::

## Goodies {.blackout #hidden-goodies}

+ –ù–∞—Å—Ç–æ–ª–∫–∏

+ –í–∫—É—Å–Ω—è—à–∫–∏

+ –°–∏–≥–∞—Ä–µ—Ç—ã

+ üçæ


## –ü—Ä–æ–≥—Ä–∞–º–º—ã {#software}

```{r software, child="include_software.Rmd",eval=T}
```

## –î–∞–Ω–Ω—ã–µ

```{r software, child="include_data.Rmd",eval=T}
```

# –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

## –ù–∞–±–ª—é–¥–µ–Ω–∏—è


```{r, results='asis', eval=!simple}
knitr::include_app(here::here(assets,"duty.mp4"),height="508px")
cat("\n\n---\n\n")
```

```{r, out.height=670, out.extra="contain"}
knitr::include_graphics(file.path(assets,"bridge.jpg"),dpi=200)
```

## –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–æ–∫ {#protocol}

:::blackout

```{r, out.height=670, out.extra="contain"}
knitr::include_graphics(file.path(assets,"records.jpg"),dpi=120)
```

:::

---

:::{.double .blackout}

```{r, height=600}
knitr::include_graphics(file.path(assets,"records1.jpg"))
```

```{r, height=600}
knitr::include_graphics(file.path(assets,"records2.jpg"))
```
:::

---

–í–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å –≤—Ä–µ–º—è –ª—é–±—ã–º —Å–ø–æ—Å–æ–±–æ–º:

+ –ü–æ—Å—Ç–∞–≤–∏—Ç—å –º–µ—Ç–∫—É GPS, –≤–≤–µ—Å—Ç–∏ –≤ –∑–∞–ø–∏—Å—å —Ç—Ä–∏ —Ü–∏—Ñ—Ä—ã –º–µ—Ç–∫–∏

+ –°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é (–ø—É—Å—Ç—å –¥–∞–∂–µ ¬´–æ—Ç–±–∏–≤–∫—É¬ª), –≤–≤–µ—Å—Ç–∏ –≤ –∑–∞–ø–∏—Å—å —á–µ—Ç—ã—Ä–µ —Ü–∏—Ñ—Ä—ã —Ñ–æ—Ç–æ –∏–ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω –Ω–æ–º–µ—Ä–æ–≤ —Ñ–æ—Ç–æ —Å–µ—Ä–∏–π–Ω–æ–π —Å—ä–µ–º–∫–∏.

+ –í—ã–ø–∏—Å–∞—Ç—å –≤—Ä–µ–º—è (—Å—Ç–∞—Ä–∞—Ç—å—Å—è –¥–æ —Å–µ–∫—É–Ω–¥) —Å GPS –∏–ª–∏ –Ω–∞—Ä—É—á–Ω—ã—Ö —á–∞—Å–æ–≤

GPS –ø–∏—à–µ—Ç –º–∞—Ä—à—Ä—É—Ç. –ü—Ä–∏ –∑–∞–ø–∏—Å–∏ –º–∞—Ä—à—Ä—É—Ç–∞ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, –∏ –≤—Ä–µ–º—è. –ü–æ –∏–∑–≤–µ—Å—Ç–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞—Ö–æ–¥–∫–∏ –æ—Ü–µ–Ω–∏–≤–∞—é—Ç—Å—è –µ—ë –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã.

# –ü–µ—Ä–µ–±—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö {.focus #skip-data}

## –ò–∑ —É—á—ë—Ç–Ω–æ–≥–æ –ª–∏—Å—Ç–∞

---
name: findings

### –¢–∞–±–ª–∏—Ü–∞ –Ω–∞—Ö–æ–¥–æ–∫ {#findings}

:::protocol
```{r protocol, results='asis', out.height=682}
# ursa:::widgetize(ret,ref="widget",height="var(--scrollY)")
ret
```
:::

---
+ –ù–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å

   + –∫–∞–∫–∏–µ-—Ç–æ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ –ø–∞–º—è—Ç–∏
   
   + –±—ã–≤–∞–µ—Ç, —á—Ç–æ –¥–∞–∂–µ —Å–≤–æ–π –ø–æ—á–µ—Ä–∫ —Ç—Ä–µ–±—É–µ—Ç —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏
   
   + –±—É–º–∞–∂–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –º–æ–≥—É—Ç –ø–æ—Ç–µ—Ä—è—Ç—å—Å—è

+ –í—Ä–µ–º—è, –¥–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 (YYYY-MM-DD HH:MM:SS, YYYY-MM-DD)

+ –ö–∞–º–µ—Ä–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É—Ç–æ—á–Ω—è–µ—Ç –Ω–∞–±–ª—é–¥–µ–Ω–∏—è

```{r, eval=FALSE}
knitr::include_url("assets/attrtable-marmam.html",height="670px")
```

## –° GPS {#gps}

–ù–∞–±–æ—Ä—ã –¥–∞–Ω–Ω—ã—Ö (¬´—Å–ª–æ–∏¬ª –≤ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏ –ì–ò–°)

+ .clarify.required[
   **waypoints**
   
   + –º–∞—Ä—à—Ä—É—Ç–Ω—ã–µ —Ç–æ—á–∫–∏. –≠—Ç–æ –º–µ—Ç–∫–∏ –Ω–∞—Ö–æ–¥–æ–∫.
   ]

+ .clarify.optional[
   **routes**
   
   + –ª–∏–Ω–∏–∏ –ø–ª–∞–Ω–∏—Ä—É–µ–º–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞.
   ]

+ .clarify.required[
   **tracks**
   
   + –ª–∏–Ω–∏–∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞, —Ç—Ä–µ–∫.
   ]

+ .clarify.optional[
   **route_points**

   + —Ç–æ—á–∫–∏ –ø–ª–∞–Ω–∏—Ä—É–µ–º–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞. –û–Ω–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∞—Ç—Ä–∏–±—É—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏.
   ]

+ .clarify.required[
   **track_points**

   + —Ç–æ—á–∫–∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞, —Ç–æ—á–∫–∏ —Ç—Ä–µ–∫–∞.
   ]


---

–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –ª–∏–±–æ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–º —á—Ç–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –∏–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ø–∞–º—è—Ç–∏ –ø—Ä–∏–±–æ—Ä–∞ –∏–ª–∏ —Ñ–ª–µ—à-–∫–∞—Ä—Ç—ã, –ª–∏–±–æ —Å –ø–æ–º–æ—â—å—é –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≥—Ä–∞–º–º–æ–π [MapSource](https://www8.garmin.com/support/download_details.jsp?id=209/) –¥–ª—è –ø—Ä–∏–±–æ—Ä–æ–≤ Garmin.

```{r}
knitr::include_url("https://www8.garmin.com/support/download_details.jsp?id=209/",height=525)
```

### –§–æ—Ä–º–∞—Ç GDB

–ü–æ-—É–º–æ–ª—á–∞–Ω–∏—é, –ø—Ä–æ–≥—Ä–∞–º–º–∞ MapSource —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ GDB.

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —É—Ç–∏–ª–∏—Ç–æ–π `gpsbabel`, –∫–æ—Ç–æ—Ä–∞—è –≤—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–∞–≤ QGIS (–≤–æ–∑–º–æ–∂–Ω–æ, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º –ø–∞–∫–µ—Ç–æ–º —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞ OSGeo4W).

–ü—Ä–∏–º–µ—Ä —Å–∫—Ä–∏–ø—Ç–∞ –Ω–∞ R –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ GDB-—Ñ–∞–π–ª–æ–≤ –≤ GPX-—Ñ–∞–π–ª—ã:

```{r, eval=FALSE, echo=TRUE}
Sys.setenv(PATH=paste0("C:\\Software\\OSGeo4W\\apps\\Qt5\\bin;",Sys.getenv("PATH")))
src <- dir(pattern="2023.+\\.gdb$",recursive=TRUE,full.names=TRUE)
dst <- gsub("\\.gdb$",".gpx",src)
ind <- which(!file.exists(dst) | file.size(dst)==0)
if (length(ind)) {
   cmd <- paste("gpsbabel -w -r -t -i gdb,via=0,roadbook=0"
               ,"-f",src[ind]
               ,"-o gpx,suppresswhite=0,logpoint=0,humminbirdextensions=0,garminextensions=0"
               ,"-F",dst[ind])
   print(cmd)
   sapply(cmd,system)
}
```

R-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ **`sf`** –º–æ–∂–µ—Ç –ø—Ä–æ—á–µ—Å—Ç—å GDB –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π QGIS –∏ –ø—Ä–æ–ø–∏—Å–∞–Ω–Ω—ã–º –ø—É—Ç—è–º –∫ `gpsbabel` –∏ –¥—Ä—É–≥–∏–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º.

---

### –§–æ—Ä–º–∞—Ç GPX {#gpx}

–§–æ—Ä–º–∞—Ç GPX, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π GDAL (R, QGIS)

:::scrollable

```{r, out.extra="xml", out.height=500}
gpx <- readLines("./input/sample.gpx")
cat(gpx,sep="\n")
```
:::

### –ò–º–ø–æ—Ä—Ç –≤ QGIS

---
name: menulayer


[
```{r out.height=672, out.extra="contain"}
knitr::include_graphics(file.path(assets,"AddVector.jpg"),dpi=300)
```
](#selectvector)

---
name: selectvector

[
```{r out.height=672, out.extra="contain"}
knitr::include_graphics(file.path(assets,"SelectVector.jpg"),dpi=300)
```
](#selectlayers)

---
name: selectlayers

[
```{r out.height=672, out.extra="contain"}
knitr::include_graphics(file.path(assets,"SelectLayers.jpg"),dpi=300)
```
](#addlayers)

---
name: addlayers

[
```{r out.height=672, out.extra="contain"}
knitr::include_graphics(file.path(assets,"TrackInQGIS.jpg"),dpi=300)
```
](#trackinqgis)


## –° —Ñ–æ—Ç–æ–∞–ø–ø–∞—Ä–∞—Ç–∞

–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã

+ –≤ –Ω–æ–≤–æ–º –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Ä–µ–º–µ–Ω–∏ —Å—ä–µ–º–∫–∏

+ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ EXIF –Ω–µ –ø—Ä–æ–ø–∞–¥–∞–µ—Ç

:::{.scrollable.explorer}

```{r, out.extra="explorer"}
list1 <- dir(path="input/2023-07-18",pattern="^2023.+\\.jpg",full.names=!FALSE)
list2 <- file.info(list1)
rownames(list2) <- basename(list1)
list2$atime <- list2$ctime <- NULL
list2
```
:::

–í—Ä–µ–º—è —Å—ä—ë–º–∫–∏ –∏–∑–≤–ª–µ–∫–∞—Ç—å –∏–∑ EXIF. –û—á–µ–Ω—å —á–∞—Å—Ç–æ –ø—Ä–∏ —Å–µ—Ä–∏–π–Ω–æ–π —Å—ä–µ–º–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ —Ñ–æ—Ç–æ–∞–ø–ø–∞—Ä–∞—Ç–∞ –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞ –∫–∞—Ä—Ç—É –ø–∞–º—è—Ç–∏. –≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥. –≠—Ç–æ –Ω–∞–∏–±–æ–ª–µ–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –ø—Ä–∏ –∞–≤–∏–∞—É—á—ë—Ç–∞—Ö.

### EXIF –≤ QGIS

```{r out.height=672, out.extra="contain"}
knitr::include_graphics(file.path(assets,"AddRaster.jpg"),dpi=300)
```

---

```{r out.height=672, out.extra="contain"}
knitr::include_graphics(file.path(assets,"SelectRaster.jpg"),dpi=300)
```

---

```{r out.height=672, out.extra="contain"}
knitr::include_graphics(file.path(assets,"RasterProperties.jpg"),dpi=300)
```

---

```{r out.height=672, out.extra="contain"}
knitr::include_graphics(file.path(assets,"qgisEXIF.jpg"),dpi=300)
```

### EXIF –≤ R

```{r, echo=TRUE}
sf::gdal_utils("info","./input/DSC_2414.JPG")
```

### –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≤ R

```{r code=readLines("resources/exif_dev.R"), eval=TRUE, echo=TRUE}
```

```{r child="resources/exif_dev.Rmd", eval=FALSE}
```

### –î—Ä—É–≥–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã

+ Irfanview

+ ...

## –ü–æ—Å–ª–µ –∞–≤–∏–∞—É—á—ë—Ç–∞

–ü–æ–ª—ë—Ç–Ω–æ–µ –≤—Ä–µ–º—è –∏ –¥–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª—ë—Ç–∞ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Å—Ç–∏ —É—á—ë—Ç –≥–∞–ª—Å–∞–º–∏.

–£—á—ë—Ç –Ω–∞–∏–±–æ–ª–µ–µ –Ω–∞—Å–µ–ª–µ–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç—ã –º–µ—Å—Ç–æ–æ–±–∏—Ç–∞–Ω–∏–π, —Å –º–∞–Ω—ë–≤—Ä–∞–º–∏.

–¢–∞–±–ª–∏—Ü–∞ –Ω–∞—Ö–æ–¥–æ–∫ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –≤ –ì–ò–° —Å —Ü–µ–ª—å—é –∏—Å–∫–ª—é—á–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π —É—á—ë—Ç.

---

```{r out.height=672, out.extra="contain"}
knitr::include_graphics(file.path(assets,"aerial1.jpg"),dpi=300)
```

---

```{r out.height=672, out.extra="contain"}
knitr::include_graphics(file.path(assets,"aerial2.jpg"),dpi=300)
```

# –¢—Ä–µ–∫–∏

–¢—Ä–µ–∫–∏ - –∑–∞–ø–∏—Å—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞. –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π —Ç—Ä–µ–∫ –∂–µ–ª–∞—Ç–µ–ª–µ–Ω –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –≤ –æ—Ç—á—ë—Ç.

–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∑–∞–ø–∏—Å—å —Ç—Ä–µ–∫–æ–≤ –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–∞:

+ –í—ã–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å —Ü–µ–ª—å—é –∑–∞–º–µ–Ω—ã –±–∞—Ç–∞—Ä–µ–µ–∫/–∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–æ–≤.

+ .serga[–ë–∞—Ç–∞—Ä–µ–π–∫–∏ —Å–µ–ª–∏]

+ –°–ø—É—Ç–Ω–∏–∫–∏ –Ω–∞—à–ª–∏—Å—å –Ω–µ —Å—Ä–∞–∑—É –∏–ª–∏ –∑–∞–±—ã–ª–∏ –≤–æ–≤—Ä–µ–º—è –≤–∫–ª—é—á–∏—Ç—å

–í –∏—Ç–æ–≥–µ, –∑–∞–ø–∏—Å—å –º–∞—Ä—à—Ä—É—Ç–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ä–Ω–∞. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤.

## –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤

–ó–∞–ø–∏—Å—å —Ç—Ä–µ–∫–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–ª–∞—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏. –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ ¬´Zhenya¬ª –Ω–∞—Ö–æ–¥–∏–ª–æ—Å—å –≤ –∫–∞—é—Ç–µ, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ ¬´Oregon¬ª -- —É –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–º —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è, –Ω–æ –≤ —Å–ª—É—á–∞–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∑–∞–ø–∏—Å–∏ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–∞–ø–∏—Å–∏ —Å –∑–∞–ø–∞—Å–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—é

### –≤ R

```{r merge, out.foo="bar", code=readLines("resources/merge-voyage.R"), echo=TRUE, eval=TRUE}
```

## –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

### –≤ R

:::font97

```{r, echo=TRUE}
ursa::glance("./output/track-oregon.geojson",field="device",plot.lwd=0.001)
```

:::

---

:::font97

```{r, echo=TRUE}
ursa::glance("./output/trackline-oregon.geojson")
```

:::

---

```{r, echo=TRUE}
require(ursa)
print(trkpt <- spatial_read("./input/track-general.geojson"))
print(trkln <- trackline(trkpt))
```

---

```{r, out.extra="contain", out.height=620, echo=TRUE}
glance(trkln,style="2gis")
```

---

```{r, out.extra="contain", out.height=535, echo=TRUE}
trkdaily <- trackline(trkpt,by=list('–î–∞—Ç–∞'=as.Date(trkpt$time)))
ct <- colorize(trkdaily$'–î–∞—Ç–∞',pal.bright=127,pal.rotate="circle") |> ursa_colortable()
glance(trkdaily["–î–∞—Ç–∞"],col=ct,resetGrid=TRUE,blank="aliceblue",coast.fill="lightyellow"
      ,basemap.order="before",pointsize=12)
```

```{r, echo=FALSE, eval=!file.exists("./output/trackline_daily.geojson")}
spatial_write(trkdaily,"./output/trackline_daily.geojson")
```

---

```{r foo1, eval=FALSE, echo=TRUE}
mapview::mapview(trkln)
```

```{r trkln, echo=FALSE, eval=TRUE, results='asis', out.height=634}
mapview::mapview(trkln) |> ursa:::widgetize()
```

### –≤ QGIS

```{r, out.extra="contain", out.height=670}
knitr::include_graphics(file.path(assets,"track-QGIS.jpg"))
```

# –ù–∞—Ö–æ–¥–∫–∏

 ## GPS-–º–µ—Ç–∫–∞
 
–°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–∞–∑–≤–∞–Ω–∏–∏ –º–µ—Ç–∫–∏, –µ—ë –≤—Ä–µ–º–µ–Ω–∏ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö. –ö–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —ç—Ç–æ —Ç—Ä–µ—Ö–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ: 002, 012, 312. 

 ## –ù–æ–º–µ—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
 
–í —É—á—ë—Ç–Ω—ã–π –ª–∏—Å—Ç –∏–ª–∏ –ø–æ–ª–µ–≤–æ–π –¥–Ω–µ–≤–Ω–∏–∫ –∑–∞–Ω–æ—Å—è—Ç—Å—è —á–µ—Ç—ã—Ä–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ü–∏—Ñ—Ä—ã. –ö–∞–∂–¥—ã–µ 10 —Ç—ã—Å. —Å–Ω–∏–º–∫–æ–≤ —ç—Ç–∏ —Ü–∏—Ñ—Ä—ã –º–æ–≥—É—Ç –ø–æ–≤—Ç–æ—Ä–∏—Ç—å—Å—è. –í [—Ç–∞–±–ª–∏—Ü–µ –Ω–∞—Ö–æ–¥–æ–∫](#findings) —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∞—Ç–∞, —á—Ç–æ–±—ã –∏—Å–∫–ª—é—á–∏—Ç—å –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—å –ø–æ 4 –ø–æ—Å–ª–µ–¥–Ω–∏–º —Ü–∏—Ñ—Ä–∞–º.

–ü–æ –¥–∞—Ç–µ –∏ —á–µ—Ç—ã—Ä—ë–º –ø–æ—Å–ª–µ–¥–Ω–∏–º —Ü–∏—Ñ—Ä–∞–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∏–º—è —Ñ–∞–π–ª–∞ —Å–Ω–∏–º–∫–∞. –ò–∑ —ç—Ç–æ–≥–æ –∏–º–µ–Ω–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞–∏—Ü

 ## –ó–∞–ø–∏—Å–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è
 
–ò–Ω–æ–≥–¥–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ–µ, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –Ω–∞—Ö–æ–¥–∫–∞ —Å–¥–µ–ª–∞–Ω–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ —ç–∫—Å–ø–µ–¥–∏—Ü–∏–∏ –∏–ª–∏ —á–ª–µ–Ω–∞–º–∏ —ç–∫–∏–ø–∞–∂–∞.

---

```{r code=readLines("./resources/bearing-0init.R"), echo=TRUE, eval=TRUE}
```

## –í—Ä–µ–º—è

### –ø–æ GPS

```{r code=readLines("./resources/bearing-1gps.R"), echo=TRUE, eval=TRUE}
```

### –ø–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏

```{r code=readLines("./resources/bearing-2photo.R"), echo=TRUE, eval=TRUE}
```

### –Ω–∞–ø—Ä—è–º—É—é

```{r code=readLines("./resources/bearing-3manual.R"), echo=TRUE, eval=TRUE}
```

## –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

```{r code=readLines("./resources/bearing-4coords.R"), echo=TRUE, eval=TRUE}
```

### –∏–∑ GPS –º–µ—Ç–∫–∏

```{r code=readLines("./resources/bearing-5waypoint.R"), echo=TRUE, eval=TRUE}
```

### –∏–∑ –ø—É—Ç–µ–≤–æ–≥–æ —Ç—Ä–µ–∫–∞

```{r code=readLines("./resources/bearing-6track.R"), echo=TRUE, eval=TRUE}
```

## –ü–µ–ª–µ–Ω–≥–∞—Ü–∏—è

.clarify[
   –°—Ç–æ–ª–±—Ü—ã ¬´–¥–∞–ª—å–Ω–æ—Å—Ç—å¬ª –∏ ¬´–ø–µ–ª–µ–Ω–≥¬ª –≤ —Ç–∞–±–ª–∏—Ü–µ –Ω–∞—Ö–æ–¥–æ–∫.

   + –ï—Å–ª–∏ —Å—É–¥–Ω–æ –≤ –ø–æ—Ö–æ–¥–µ, —Ç–æ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ —á–∞—Å–∞—Ö –æ—Ç –Ω–æ—Å–∞ —Å—É–¥–Ω–∞
   
   + –ï—Å–ª–∏ —Å—É–¥–Ω–æ –Ω–∞ —Ä–µ–π–¥–µ –∏–ª–∏ —Å–æ–≤–µ—Ä—à–∞–µ—Ç –º–∞–Ω—ë–≤—Ä—ã, —Ç–æ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è —Å—Ç–æ—Ä–æ–Ω–∞ —Å–≤–µ—Ç–∞ (–≤ –≥—Ä–∞–¥—É—Å–∞—Ö –∫–æ–º–ø–∞—Å–∞)
]

---

```{r code=readLines("./resources/bearing-7bearing.R"), echo=TRUE, eval=TRUE}
```

## –ü–ª–∞–Ω ¬´–ë¬ª {.blackout #hidden-crd}

–î–ª—è –∫–∞–∂–¥–æ–π –Ω–∞—Ö–æ–¥–∫–∏ (—Å —Ñ–æ—Ç–æ –∏–ª–∏ –±–µ–∑) —Å—Ç–∞–≤–∏—Ç—å –º–µ—Ç–∫—É GPS

+ –° –ì–ò–°

   + –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Ç—Ä–µ–∫ (track, track_points)
   
   + –í—ã–≤–µ—Å—Ç–∏ –º–µ—Ç–∫–∏ –Ω–∞—Ö–æ–¥–æ–∫ (waypoints)
   
   + –í–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ waypoints.

+ –ë–µ–∑ –ì–ò–°

   + –û—Ç–∫—Ä—ã—Ç—å [GPX](#gpx) –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∏ —Å–æ–æ—Ç–Ω–æ—Å–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –º–µ—Ç–∫–∏ —Å –µ—ë –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏.

–ù–æ –±–µ–∑ –ì–ò–° –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –º–æ–≥ –±—ã –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç –∫–µ–º-—Ç–æ –¥—Ä—É–≥–∏–º –≤ –ì–ò–°.

## –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –ì–ò–°

–°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ—á–µ—á–Ω–æ–≥–æ —Å–ª–æ—è

### R

```{r, echo=FALSE, eval=TRUE}
write.csv(a,"./output/mammals_subset.csv",row.names=FALSE)
```

```{r code=readLines("./resources/bearing-8write.R"), echo=TRUE, eval=TRUE}
```

### QGIS

+ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–∏—Å—Ç –≠–∫—Å–µ–ª—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV.

+ [Layer >> Add Layer >> Add Vector Layer](#menulayer)

–£–∫–∞–∑–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è —Å—Ç–æ–ª–±—Ü–æ–≤, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã.

```{r out.height=528, out.extra="contain"}
knitr::include_graphics(file.path(assets,"importCSV.jpg"),dpi=300)
```

## –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

### R

```{r, code=readLines("./resources/display_findings.R"), echo=TRUE, eval=FALSE}
```

---

```{r, echo=FALSE, out.extra="contain", out.height=670}
knitr::include_graphics("assets/findings.png")
```

### QGIS

Lorem ipsum...

# –ê–Ω–∞–ª–∏–∑

 ## –ò–∑—É—á–∞–µ–º–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è

```{r code=readLines("./resources/analysis-studyarea.R"),eval=!file.exists("./output/studyarea.tif"), echo=TRUE, results='hide'}
```

:::pulling
:::pull-left-60

```{r}
ref <- ursa_read("./output/studyarea.tif")
ursa_grid(ref)
```

:::
:::pull-right-40

```{r, out.extra="aspect"}
display(ref,legend=NULL,height=200)
```

:::
:::

## –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –±–µ—Ä–µ–≥–∞ {#dist2coast}

–ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—Ö–æ–ø—É—Ç–Ω—ã–µ –ø–æ–ª–∏–≥–æ–Ω—ã –∏–∑ [OSM –¥–∞–Ω–Ω—ã—Ö](#osmdata).

```{r, code=readLines("resources/analysis-coast-prepare.R"), echo=TRUE, eval=!file.exists("./resources/land-polygons.rds")}
```

```{r, echo=FALSE,eval=!file.exists("./resources/land-polygons.rds")}
saveRDS(land,"./resources/land-polygons.rds")
```

```{r, echo=FALSE}
land <- readRDS("./resources/land-polygons.rds")
```

### –ø–æ –≤—Å–µ–º—É —Ä–µ–≥–∏–æ–Ω—É

```{r, code=readLines("resources/analysis-raster2coast.R"), echo=TRUE, eval=!file.exists("./output/dist2coast.tif"), results='hide'}
```

---

```{r,echo=FALSE}
dist2coast <- ursa_read("./output/dist2coast.tif")
```

```{r,echo=TRUE, out.extra="contain", out.height=620}
display(dist2coast,blank="white",pointsize=12,coast.fill="#00000010")
```

### –¥–ª—è –Ω–∞—Ö–æ–¥–æ–∫

:::font100

```{r, code=readLines("./resources/analysis-finding2coast.R"), echo=TRUE, results='hide', eval=!file.exists("./resources/dist2coast.sqlite")}
```

```{r echo=FALSE, eval=!file.exists("./resources/dist2coast.sqlite")}
spatial_write(list(seg=seg,loc=loc,cl=cl),"./resources/dist2coast.sqlite")
```

```{r, echo=FALSE, eval=TRUE, results='hide'}
bundle <- spatial_read("./resources/dist2coast.sqlite")
loc <- bundle$loc
cl <- bundle$cl
seg <- bundle$seg
rm(bundle)
```

```{r foo2, echo=TRUE, eval=TRUE}
spatial_data(loc)[sort(sample(seq(nrow(loc)),7)),]
m <- mapview::mapview(spatial_geometry(loc),cex=3,col.regions="red",layer.name="finding")+
     mapview::mapview(spatial_geometry(cl),cex=2,col.regions="blue",layer.name="coast")+
     mapview::mapview(seg,popup="dist",layer.name="segment")
```
:::

```{r bar2,echo=TRUE, eval=FALSE}
m
```

```{r dist2coast, echo=FALSE, eval=TRUE, results='asis', out.height=634}
ursa:::widgetize(m)
```

## –ë–∞—Ç–∏–º–µ—Ç—Ä–∏—è

### –ø–æ –≤—Å–µ–º—É —Ä–µ–≥–∏–æ–Ω—É {#analysis-gebco}

<div id="analysis-gebco"></div>

–ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ [—Å–∫–∞—á–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ GEBCO](#download-gebco).

```{r, echo=TRUE, out.height="unset"}
src <- "./input/gebco_2024_n82.0_s64.0_w30.0_e90.0.tif"
depth <- ursa_read(src)
str(ursa_grid(depth))
display(depth,pointsize=12)
```

---

```{r, echo=TRUE, eval=TRUE}
print(gebco <- ursa:::.gdalwarp(src,grid=ursa_grid("./output/studyarea.tif")))
ursa_write(gebco,"./output/gebco.tif")
```

```{r, eval=TRUE, echo=TRUE, out.extra="contain", out.height=474}
display(gebco,blank="white",pointsize=12,coast_fill="#00000010")
```

### –¥–ª—è –Ω–∞—Ö–æ–¥–æ–∫

```{r, code=readLines("./resources/analysis-depth.R"), echo=TRUE}
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–∏—Ö

```{r, results='hide', echo=TRUE}
da <- loc[loc$'–í–∏–¥' %in% c("–õ–∞—Ö—Ç–∞–∫","–ú–æ—Ä–∂"),]
```

### –û—Ü–µ–Ω–æ—á–Ω–æ

#### –ø–æ –≥–ª—É–±–∏–Ω–µ

```{r, echo=TRUE, eval=FALSE}
ggstatsplot::ggbetweenstats(da,'–í–∏–¥',depth)
```

```{r, echo=FALSE, out.extra="contain", out.height=620}
knitr::include_graphics("assets/between-depth.png")
```

#### –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é –¥–æ –±–µ—Ä–µ–≥–∞

```{r, echo=TRUE, eval=FALSE}
ggstatsplot::ggbetweenstats(da,'–í–∏–¥',coast)
```

```{r, echo=FALSE, out.extra="contain", out.height=620}
knitr::include_graphics("assets/between-coast.png")
```

### –î–µ—Ç–∞–ª—å–Ω–æ

```{r, echo=TRUE}
x <- da[da$'–í–∏–¥'=="–õ–∞—Ö—Ç–∞–∫",]$'coast'
summary(x)
y <- da[da$'–í–∏–¥'=="–ú–æ—Ä–∂",]$'coast'
summary(y)
```

```{r, echo=FALSE, out.extra="contain", out.height=385}
#| fig.cap: –í–∑—è—Ç–æ —É <a href=https://towardsdatascience.com/a-b-testing-a-complete-guide-to-statistical-testing-e3f1db140499>Francesco Casalegno</a>
knitr::include_graphics("assets/which-test.webp")
```

---

:::font92

 #### –¢–µ—Å—Ç –Ω–∞ –Ω–æ—Ä–º–∞–ª—å–Ω–æ—Å—Ç—å

```{r, echo=TRUE}
shapiro.test(x)
```

```{r, echo=TRUE}
shapiro.test(y)
```

 #### –û—Ç–ª–∏—á–∏—è –∑–Ω–∞—á–∏–º—ã?

```{r, echo=TRUE}
t.test(x,y,pair=FALSE)
```

:::

---

```{r child="details.Rmd", eval=!simple}
```

######

&nbsp;

---
class: notable scrollable

:::font64

```{r, eval=ursa:::.isRemark()}
options(width=160)
```

```{r, echo=TRUE}
print(sessionInfo())
```

:::
